---
name: commit
description: git diff（主に staged）を読んで、日本語のコミットメッセージとPR本文（テンプレ形式、Closes #NN）を作る
---

<!--
使い方テンプレ（コピペ用）:

`commit` を使って `git diff --staged` を読み、日本語のコミットメッセージ1行＋PR本文（指定テンプレ）を作成。
PR本文に `Closes #NN`を必ず入れる。
-->

## ゴール
- 「今の変更内容」に沿ったコミットメッセージ（日本語）を作る
- ユーザー指定のPRテンプレに沿ってPR本文を作る
- 指定Issueがあれば `Closes #NN` で紐づける

## 作業手順（必須）
1. `git status` を確認し、未ステージの変更がある場合はステージングを促す
2. `git diff --staged` を読み、変更点を要約する（必要なら `git diff` も）
3. 変更ファイルの一覧と、UI影響がありそうな箇所を抽出する
4. 出力は.md形式で以下の順で行う:
  A. コミットメッセージ案（短い/説明付きの2案）
  B. PR本文（指定テンプレ。不要セクションは削る）
  C. 末尾に必ず `Closes #NN`（ユーザー指定がある場合）

## 出力フォーマット

### A. Commit message
- 案A（短い）
- 案B（本文つき）

### B. PR本文（md形式で出力）
## 目的
-
## 結論
-
## 変更点
-
## 手順
1.
## 動作確認
-
## 参考資料（1次ソース）
-
## 関連Issue
Closes #NN

## 制約
- diffから読み取れないことは断定しない（不明点は「不明」と書く）
- 不要なセクションは削る
- Commit messageの先頭のプレフィックスは以下から選ぶ:
  - `feat:` 新機能追加（ユーザーが使える機能が増える）
  - `fix:` バグ修正
  - `docs:` ドキュメントのみ変更
  - `chore:` 環境整備・依存関係・ビルド/CI・Dockerなど（機能は変えない）
  - `WIP:` 進行中（完成していない）
- PR本文のセクションタイトルは必ず上記テンプレに従う
- ()での補足説明は原則使わない
